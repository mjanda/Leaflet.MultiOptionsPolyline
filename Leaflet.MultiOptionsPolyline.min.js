!function(){"use strict";L.MultiOptionsPolyline=L.FeatureGroup.extend({initialize:function(t,n){this._layers={},this._latlngs=t,this._prepareOptions(n),this.render()},_prepareOptions:function(t){this._options=t;var n=t.multiOptions.copyBaseOptions;if(void 0===n||n){var i,s,e=this._options.multiOptions,o=e.options,l=o.length;for(i=L.extend({},this._options),delete i.multiOptions,s=0;l>s;++s)o[s]=L.extend({},i,o[s])}},setLatLngs:function(t){this._latlngs=t,this.render()},setOptions:function(t){this._prepareOptions(t),this.render()},render:function(){var t,n,i,s,e=this._latlngs.length,o=this._options.multiOptions,l=o.optionIdxFn,r=o.fnContext||this;for(this.eachLayer(function(t){this.removeLayer(t)},this),t=1;e>t;++t)i=l.call(r,this._latlngs[t],this._latlngs[t-1],t,this._latlngs),1===t&&(s=[this._latlngs[0]],n=i),s.push(this._latlngs[t]),(n!==i||t===e-1)&&("function"==typeof o.options?this.addLayer(new L.Polyline(s,o.options(n))):this.addLayer(new L.Polyline(s,o.options[n])),n=i,s=[this._latlngs[t]]);return this},getLatLngs:function(){return this._latlngs},getLatLngsSegments:function(){var t=[];return this.eachLayer(function(n){t.push(n.getLatLngs())}),t}}),L.multiOptionsPolyline=function(t,n){return new L.MultiOptionsPolyline(t,n)}}();
