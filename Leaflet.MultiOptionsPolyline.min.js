!function(){"use strict";L.MultiOptionsPolyline=L.FeatureGroup.extend({initialize:function(t,n){this._layers={},this._latlngs=t,this._options=n;var i=n.multiOptions.copyBaseOptions;(void 0===i||i)&&this._copyBaseOptions(),this.render()},_copyBaseOptions:function(){var t,n,i=this._options.multiOptions,s=i.options,o=s.length;for(t=L.extend({},this._options),delete t.multiOptions,n=0;o>n;++n)s[n]=L.extend({},t,s[n])},setLatLngs:function(t){this._latlngs=t,this.render()},setOptions:function(t){var n=t.multiOptions.copyBaseOptions;this._options=t,(void 0===n||n)&&this._copyBaseOptions(),this.render()},render:function(){var t,n,i,s,o=this._latlngs.length,e=this._options.multiOptions,l=e.optionIdxFn,a=e.fnContext||this;for(this.eachLayer(function(t){this.removeLayer(t)},this),t=1;o>t;++t)i=l.call(a,this._latlngs[t],this._latlngs[t-1],t,this._latlngs),1===t&&(s=[this._latlngs[0]],n=i),s.push(this._latlngs[t]),(n!==i||t===o-1)&&("function"==typeof e.options?this.addLayer(new L.Polyline(s,e.options(n))):this.addLayer(new L.Polyline(s,e.options[n])),n=i,s=[this._latlngs[t]]);return this},getLatLngs:function(){return this._latlngs},getLatLngsSegments:function(){var t=[];return this.eachLayer(function(n){t.push(n.getLatLngs())}),t}}),L.multiOptionsPolyline=function(t,n){return new L.MultiOptionsPolyline(t,n)}}();
